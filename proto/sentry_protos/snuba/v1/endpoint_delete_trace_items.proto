syntax = "proto3";

package sentry_protos.snuba.v1;

import "sentry_protos/snuba/v1/request_common.proto";

// DeleteTraceItemsRequest either
//   1. initiates a delete of all items in provided trace_ids
//   2. deletes all items matching a set of TraceItemFilterWithType[s]
// Behavior is unspecified if both trace_ids and filters are provided.
//
// It should also remove downsampled copies of anything it deletes.
// The response will be an acknowledgement of a request, but not
// a guarantee that the delete has been fulfilled.
message DeleteTraceItemsRequest {
  RequestMeta meta = 1;
  repeated string trace_ids = 2;
  repeated TraceItemFilterWithType filters = 3;
}

// DeleteTraceItemsResponse notifies acceptance of the delete and returns
// a count of items matched by the request at query time. This count
// could change by the time the delete is executed.
message DeleteTraceItemsResponse {
  ResponseMeta meta = 1;
  uint32 matching_items_count = 2;
}
