syntax = "proto3";

package sentry_protos.taskworker.v1;

import "sentry_protos/taskbroker/v1/taskbroker.proto";

service WorkerService {
  // Receives a task to execute.
  rpc PushTask(PushTaskRequest) returns (PushTaskResponse) {}
}

message PushTaskRequest {
  // If there is a task to execute, this field will contain it.
  optional sentry_protos.taskbroker.v1.TaskActivation task = 1;
}

message PushTaskResponse {
  // The ID of some other completed task.
  optional string id = 1;

  // The status of some other completed task identified by ID.
  optional sentry_protos.taskbroker.v1.TaskActivationStatus status = 2;
}
