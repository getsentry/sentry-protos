syntax = "proto3";

package sentry_protos.billing.v1.services.contract.v1;

import "sentry_protos/billing/v1/services/contract/v1/billing_config.proto";
import "sentry_protos/billing/v1/services/contract/v1/contract_metadata.proto";
import "sentry_protos/billing/v1/services/contract/v1/pricing_config.proto";

message Contract {
  ContractMetadata metadata = 1;
  BillingConfig billing_config = 2;
  PricingConfig pricing_config = 3;
}

message GetContractRequest {
  uint64 contract_id = 1;
}

message GetContractResponse {
  Contract contract = 1;
}

message CreateContractRequest {
  Contract contract = 1;
}

message CreateContractResponse {
  Contract contract = 1;
}

message GetContractMetadataRequest {
  uint64 contract_id = 1;
}

message GetContractMetadataResponse {
  ContractMetadata metadata = 1;
}

message GetBillingConfigRequest {
  uint64 contract_id = 1;
}

message GetBillingConfigResponse {
  ContractMetadata metadata = 1;
  BillingConfig billing_config = 2;
}

message GetPricingConfigRequest {
  uint64 contract_id = 1;
}

message GetPricingConfigResponse {
  ContractMetadata metadata = 1;
  PricingConfig pricing_config = 2;
}

service ContractService {
  rpc GetContract(GetContractRequest) returns (GetContractResponse);
  rpc CreateContract(CreateContractRequest) returns (CreateContractResponse);
  rpc GetContractMetadata(GetContractMetadataRequest) returns (GetContractMetadataResponse);
  rpc GetBillingConfig(GetBillingConfigRequest) returns (GetBillingConfigResponse);
  rpc GetPricingConfig(GetPricingConfigRequest) returns (GetPricingConfigResponse);
}
